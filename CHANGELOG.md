# Changelog

Все значимые изменения в проекте Network Scanner будут документироваться в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и проект придерживается [Semantic Versioning](https://semver.org/lang/ru/).

## [1.0.3] - 2026-02-27

### Добавлено
- **Улучшенное отображение результатов в GUI:**
  - Результаты сканирования теперь отображаются в табличном формате
  - Таблица устройств с колонками: HostName / IP / MAC / Порты / Протокол / Тип устройства / Производитель
  - Сетевая аналитика в виде таблицы протоколов (Telnet, SSH, FTP, HTTP, HTTPS, SMB и т.д.)
  - Таблица типов устройств (Network Device / Computer / Server)
- **Новые режимы работы в консольном приложении:**
  - Режим 1: Не закрывать окно по окончании процесса сканирования (ожидание нажатия Enter)
  - Режим 2: Автоматическое сохранение результатов рядом с исполняемым файлом в формате txt
  - Интерактивный выбор режима при запуске приложения

### Улучшено
- Расширен маппинг типов устройств для корректной группировки в аналитике
- Улучшена структура отображения результатов (таблицы вместо списков)
- Имена файлов результатов включают дату и время сканирования

## [1.0.2] - 2026-02-27

### Исправлено
- **Критическое исправление зависаний в Windows:**
  - Исправлено зависание при сканировании портов (этап 2)
  - Добавлены таймауты для всех сетевых операций:
    - DNS запросы (`net.LookupAddr`) - таймаут 2 секунды
    - ARP команды в Windows (`arp -a`) - таймаут 3 секунды
    - Получение сетевых интерфейсов (`net.Interfaces`) - таймаут 3-5 секунд
    - Получение адресов интерфейсов (`iface.Addrs`) - таймаут 1-2 секунды
  - MAC адрес и hostname теперь получаются асинхронно и не блокируют сканирование портов
  - Улучшена функция `IsPortOpen` с использованием `net.Dialer` для лучшей работы в Windows
  - Добавлена более частая проверка контекста отмены в цикле сканирования портов
  - Ограничена частота обновления прогресса (каждые 5 хостов) для предотвращения блокировки UI
  - Улучшено закрытие TCP соединений

## [1.0.1] - 2026-02-27

### Исправлено
- Исправлена ошибка "Error in Fyne call thread" при проверке доступности хостов
  - Все обновления UI из горутин теперь обернуты в `fyne.Do()` для выполнения в главном потоке
  - Исправлены обновления прогресса сканирования
  - Исправлены обновления результатов сканирования
  - Исправлены периодические обновления UI
  - Исправлена обработка таймаутов
  - Исправлено автоопределение сети

## [1.0.0] - 2024-12-27

### Добавлено
- CLI версия сканера локальной сети
- GUI версия с графическим интерфейсом (Fyne)
- Автоматическое определение локальной сети
- Сканирование активных хостов
- Сканирование TCP портов
- Определение MAC адресов через ARP
- Определение типов устройств по открытым портам
- Определение производителя по MAC адресу (OUI)
- Детальная аналитика по протоколам и портам
- Красивый табличный вывод результатов
- Сохранение результатов в файл (GUI версия)
- Кроссплатформенная поддержка (Windows, macOS, Linux)
- Многопоточное сканирование с настраиваемым количеством потоков
- Обработка сигналов для корректного завершения
- Подробная документация

### Технические детали
- Использование Go 1.21+
- Библиотеки: gopacket, go-pretty, fyne
- Модульная архитектура
- Параллельное сканирование через горутины

### Известные ограничения
- Только TCP порты (UDP не поддерживается)
- MAC адреса могут не определяться без прав администратора
- Эвристическое определение типов устройств

